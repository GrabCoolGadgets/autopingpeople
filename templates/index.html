<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uptime Pinger - Keep Your Website Alive 24/7</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .url-list { list-style: none; padding: 0; }
        .url-item { background-color: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); padding: 1rem; margin-bottom: 1rem; display: flex; align-items: center; justify-content: space-between; }
        .url-info a { font-weight: 500; color: #3b82f6; text-decoration: none; word-break: break-all; font-size: 0.9rem; }
        .status { padding: 0.3rem 0.6rem; border-radius: 999px; font-size: 0.8rem; font-weight: 600; color: white; width: 80px; text-align: center; }
        .status.live { background-color: #22c55e; }
        .status.down { background-color: #ef4444; }
        .status.recovered { background-color: #f97316; }
        .status.waiting { background-color: #a0aec0; }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/" class="text-2xl font-bold text-gray-800">UptimePinger</a>
            <a href="#pricing" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">Pricing</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <main class="container mx-auto px-6 py-16 text-center">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">Never Let Your Site Sleep Again!</h1>
        <p class="text-lg text-gray-600 mb-8">Simple, affordable, and reliable pinging service to keep your Sites/Bots online 24/7 on free hosting platforms like Uptime Pinger.</p>
        <a href="#contact" class="px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600">Get Started Now</a>
    </main>

    <!-- Live Demo Section -->
    <section id="live-demo" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Live Status Demo</h2>
            <p class="text-center text-gray-600 mb-8">See our own Telegram Bots or Websites running live! This is what your dashboard will look like.</p>
            <div class="max-w-2xl mx-auto bg-gray-200 p-6 rounded-xl">
                <p id="last-updated" class="text-center text-sm text-gray-500 mb-4">Fetching Latest Status...</p>
                <ul class="url-list">
                    <!-- JavaScript will build this list -->
                </ul>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="bg-white py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">Simple & Transparent Pricing</h2>
            <div class="inline-block bg-gray-100 rounded-lg shadow-lg p-8">
                <h3 class="text-2xl font-semibold text-gray-800">Standard Plan</h3>
                <p class="text-5xl font-bold text-blue-600 my-4">₹29<span class="text-lg font-normal"> /Bot /Month</span></p>
                <ul class="text-gray-600 text-left space-y-2">
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>2-Minute Ping Interval</li>
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Keeps Bot/Site Alive 24/7</li>
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Personal Monitoring Dashboard</li>
                    <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Pay via UPI (GPay, PhonePe)</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">How to Get Started?</h2>
            <div class="flex flex-wrap -mx-4">
                <div class="w-full md:w-1/3 px-4 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow-lg text-center h-full">
                        <i class="fas fa-comments text-4xl text-blue-600 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">1. Contact Me</h3>
                        <p class="text-gray-600">Contact me via Telegram with your Bot's public URL.</p>
                    </div>
                </div>
                <div class="w-full md:w-1/3 px-4 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow-lg text-center h-full">
                        <i class="fas fa-rupee-sign text-4xl text-green-500 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">2. Make Payment</h3>
                        <p class="text-gray-600">Pay the monthly fee via any UPI app (GPay, PhonePe, etc).</p>
                    </div>
                </div>
                <div class="w-full md:w-1/3 px-4 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow-lg text-center h-full">
                        <i class="fas fa-link text-4xl text-purple-500 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">3. Get Your Link</h3>
                        <p class="text-gray-600">I will provide you with a secret link to your personal monitoring dashboard.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-gray-800 py-16">
        <div class="container mx-auto px-6 text-center text-white">
            <h2 class="text-3xl font-bold mb-4">Ready to Start?</h2>
            <p class="mb-8">Contact me on Telegram to get your bot online now!</p>
            <a href="https://t.me/RoyalKrrishna" target="_blank" class="inline-block px-8 py-4 bg-blue-600 text-white font-bold rounded-lg shadow-lg hover:bg-blue-700">
                <i class="fab fa-telegram-plane mr-2"></i> Contact on Telegram
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-6">
        <div class="container mx-auto px-6 text-center text-gray-600">
            <p>© UptimePinger, Made With Love by Techno Krrish ❤️</p>
        </div>
    </footer>

    <script>
        function createInitialList() {
            const bots = {{ bots_for_demo | tojson }};
            const urlList = document.querySelector('#live-demo .url-list');
            if (!urlList) return;
            
            const botNames = Object.keys(bots);
            if (botNames.length === 0) {
                urlList.innerHTML = '<li>No public bots to display.</li>';
                return;
            }

            botNames.forEach(name => {
                const url = bots[name];
                const listItemHTML = `
                    <li class="url-item" data-url="${url}">
                        <div class="url-info">
                            <a href="${url}" target="_blank">${name}</a>
                        </div>
                        <div class="status waiting">WAITING</div>
                    </li>
                `;
                urlList.innerHTML += listItemHTML;
            });
        }

        function updateStatuses() {
            fetch('/status')
                .then(response => response.json())
                .then(data => {
                    if (!data.statuses) return;
                    
                    const allItems = document.querySelectorAll('#live-demo .url-item');
                    allItems.forEach(item => {
                        const url = item.dataset.url;
                        const statusData = data.statuses[url];
                        
                        if (!statusData) return;

                        const statusEl = item.querySelector('.status');
                        
                        let statusClass = 'waiting';
                        let statusText = statusData.status ? statusData.status.toUpperCase() : 'WAITING';
                        if (statusData.status === 'live') statusClass = 'live';
                        else if (statusData.status === 'down') statusClass = 'down';
                        else if (statusData.status === 'recovered') statusClass = 'recovered';

                        statusEl.innerText = statusText;
                        statusEl.className = `status ${statusClass}`;
                    });

                    const now = new Date();
                    const updatedEl = document.getElementById('last-updated');
                    if (updatedEl) {
                        updatedEl.innerText = `Dashboard Updated: ${now.toLocaleTimeString()}`;
                    }
                })
                .catch(error => console.error('Error fetching status:', error));
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            createInitialList();
            updateStatuses();
            setInterval(updateStatuses, 5000);
        });
    </script>
</body>
</html>
